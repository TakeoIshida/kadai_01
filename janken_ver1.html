<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width">
<script src="js/jquery-2.1.3.min.js"></script>

<link rel="stylesheet" href="css/sample.css">

<title>じゃんけんver1</title>
</head>
<body>
<!-- オープニング画像設定 -->
<opening id="start"><img src="img/G'S Quest.png" alt=""></opening>
<!-- 効果音設定 -->
<audio id="start_au" preload="auto">
    <source src="sound/opening.mp3" type="audio/mp3">
</audio>
<audio id="btnsound_g" preload="auto">
    <source src="sound/attack_g.mp3" type="audio/mp3">
</audio>

<audio id="btnsound_c" preload="auto">
    <source src="sound/attack_c.mp3" type="audio/mp3">
</audio>

<audio id="btnsound_p" preload="auto">
    <source src="sound/attack_p.mp3" type="audio/mp3">
</audio>

<header style="display: none;">
  <h1>敵が現れた！</h1>
</header>

<main style="display: none;">
    <div id="enemy_1">
        <div class="clearfix">
          <div class="enemy"><img src="img/suraimu.jpg" alt=""></div>
          <div class="enemy"><img src="img/suraimu.jpg" alt=""></div>
          <div class="enemy"><img src="img/suraimu.jpg" alt=""></div>
          <div class="enemy"><img src="img/suraimu.jpg" alt=""></div>
        </div>
      
    </div>
  <ul class="hands">
    <li id="gu_btn">たたかう</li>
    <li id="cho_btn">まほう</li>
    <li id="par_btn">ひっさつ</li>
  </ul>
  <textarea name="#" id="text_area" cols="265" rows="2"></textarea>
  <div>敵へのダメージは？「<span id="pc_hands">なに？</span>」</div>
  <div id="judgment"></div>
</main>

<footer></footer>
<script>
//オープニング画面
var se = $('#start_au');
     se[0].currentTime = 0;
     se[0].play();
    $("#start").on("mouseover",function () { 
         
        $("opening").fadeOut(6000)
        $("main").fadeIn(8000)
        $("header").fadeIn(8000)
       
    });
    
    //敵表示設定
    $("body").on("click",function() {
    $("#enemy_1 div.enemy").show('slow');
    });
    
    //「グー」を出したとき
    $("#gu_btn").on("click",function(){
    
    //テキストBOXにテキスト表示
    let text_g = "イシオの攻撃！";
    $("#text_area").html(text_g);
    $("#text_area").fadeOut(100);
    $("#text_area").fadeIn(100);
    
    // 敵点滅設定
    $(".enemy").fadeOut(100);
    $(".enemy").fadeIn(100);
    
    //効果音設定
    var se = $('#btnsound_g');
     se[0].currentTime = 0;
     se[0].play();

    
    //乱数作成
    const g = Math.floor(Math.random()*3 + 1); 
    
    //条件分岐
    if(g == 1){
      view_ene = "1"
      view_res = "次のターン！";
    } else if(g == 2){
      view_ene = "10";
      view_res = "次のターン"; 
    } else if(g == 3){
      view_ene = "0";
      view_res = "負け";
    }
    console.log(g);

    //表示処理
    $("#pc_hands").html(view_ene);
    // $("#pc_hands").fadeOut(2000);//1000=1秒
    $("#judgment").html(view_res);
  });

  //「チョキ」をだした時
  $("#cho_btn").on("click",function(){
    //テキストBOXにテキスト表示
    let text_c = "イシオの魔法攻撃！";
    $("#text_area").html(text_c);
    $("#text_area").fadeOut(100);
    $("#text_area").fadeIn(100);
    $(".enemy").fadeOut(100);
    $(".enemy").fadeIn(100);
    
    //効果音設定
    var se = $('#btnsound_c');
     se[0].currentTime = 0;
     se[0].play();
    

    //乱数作成
    const c = Math.floor(Math.random()*3 + 1); 
    
    //条件分岐
    if(c == 1){
      view_ene = "0";
      view_res = "負け";
    } else if(c == 2){
      view_ene = "1";
      view_res = "次のターン！"; 
    } else if(c == 3){
      view_ene = "10";
      view_res = "次のターン！";
    }
    console.log(c);

    //表示処理
    $("#pc_hands").html(view_ene);
    $("#judgment").html(view_res);
  });

  //「パー」をだした時
  $("#par_btn").on("click",function(){
    //テキストBOXにテキスト表示
    let text_p = "イシオは必殺技をくりだした！";
    $("#text_area").html(text_p);
    $("#text_area").fadeOut(100);
    $("#text_area").fadeIn(100);
    $(".enemy").fadeOut(100);
    $(".enemy").fadeIn(100);

    //効果音設定
    var se = $('#btnsound_p');
     se[0].currentTime = 0;
     se[0].play();

    
    //乱数作成
    const p = Math.floor(Math.random()*3 + 1); 
    
    //条件分岐
    if(p == 1){
      view_ene = "10";
      view_res = "次のターン！";
    } else if(p == 2){
      view_ene = "0";
      view_res = "負け"; 
    } else if(p == 3){
      view_ene = "1";
      view_res = "次のターン！";
    }
    console.log(p);

    //表示処理
    $("#pc_hands").html(view_ene);
    $("#judgment").html(view_res);
  });
  
    
    
    
    
    
    

</script>
</body>
</html>